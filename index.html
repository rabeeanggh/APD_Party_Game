<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Actuarial Guessing Dept Á≤æÈÅ∏‰º∞Ê≠åÈÉ®</title>
    <style>
        :root { --pricing-pink: #ff007b; --actuary-blue: #00e5ff; --bg: #0d0d0d; }
        body { font-family: sans-serif; background-color: var(--bg); color: white; text-align: center; padding: 5px; margin: 0; }
        .timer-box { font-size: 32px; color: #666; font-family: monospace; font-weight: bold; width: 60px; display: flex; align-items: center; justify-content: center; }
        .timer-box.danger { color: #ff4757; text-shadow: 0 0 10px #ff4757; font-size: 48px; }
        .container { display: flex; justify-content: center; align-items: center; gap: 5px; margin-bottom: 10px; margin-top: 10px; }
        .team-box { background: #1a1a1a; padding: 10px; border-radius: 15px; width: 40%; border: 1px solid #333; }
        .team-name { font-size: 14px; color: var(--pricing-pink); border-bottom: 1px dashed #444; margin-bottom: 5px; outline: none; }
        .score { font-size: 45px; font-weight: bold; margin: 2px 0; }
        button { cursor: pointer; border: none; border-radius: 8px; font-weight: bold; }
        .btn-plus { background: var(--pricing-pink); color: white; width: 60px; height: 40px; font-size: 24px; }
        .btn-minus { background: #333; color: #888; width: 40px; height: 30px; font-size: 12px; margin-top: 4px; }
        .game-area { position: relative; width: 100%; max-width: 400px; aspect-ratio: 16/9; margin: 10px auto; border-radius: 12px; overflow: hidden; border: 1px solid #444; background: #000; }
        #black-shield { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 100; display: flex; flex-direction: column; justify-content: center; align-items: center; pointer-events: none; }
        #status-msg { font-size: 22px; color: #ff4757; font-weight: bold; }
        #player-target { width: 100%; height: 100%; }
        .blocker { position: absolute; background: #000; z-index: 105; width: 100%; height: 40px; pointer-events: none; }
        #top-hide { top: 0; } #bottom-hide { bottom: 0; }
        .card { background: white; color: #333; padding: 15px; border-radius: 15px; max-width: 400px; margin: 10px auto; }
        .main-btn { background: #e74c3c; color: white; width: 100%; padding: 15px; font-size: 18px; margin-bottom: 10px; border-radius: 12px; }
        .sub-btn { background: #555; color: white; flex: 1; padding: 10px; font-size: 12px; }
        .reveal-row { display: flex; justify-content: space-between; gap: 5px; }
        .rev-btn { background: #28a745; color: white; flex: 1; padding: 10px; font-size: 12px; }
        .ans-box { background: #f0f0f0; border: 1px solid #ddd; margin-top: 5px; padding: 8px; border-radius: 8px; font-weight: bold; visibility: hidden; min-height: 20px; font-size: 14px; }
        #blanks { color: #28a745; font-size: 18px; font-weight: bold; margin: 10px 0; display: none; }
    </style>
</head>
<body>

    <div style="color: var(--pricing-pink); font-size: 14px; margin-top: 5px; font-weight: bold;">Actuarial Guessing Dept Á≤æÈÅ∏‰º∞Ê≠åÈÉ®</div>

    <div class="container">
        <div class="team-box"><div class="team-name" contenteditable="true">TEAM A</div><div id="scoreA" class="score">0</div><button class="btn-plus" onclick="changeScore('scoreA', 1)">+</button><br><button class="btn-minus" onclick="changeScore('scoreA', -1)">-1</button></div>
        <div class="timer-box" id="timer">Vs</div>
        <div class="team-box" style="border-color: var(--actuary-blue);"><div class="team-name" contenteditable="true" style="color: var(--actuary-blue);">TEAM B</div><div id="scoreB" class="score" style="color: var(--actuary-blue);">0</div><button class="btn-plus" onclick="changeScore('scoreB', 1)" style="background: var(--actuary-blue);">+</button><br><button class="btn-minus" onclick="changeScore('scoreB', -1)">-1</button></div>
    </div>

    <div class="game-area">
        <div id="top-hide" class="blocker"></div>
        <div id="black-shield"><div id="status-msg">Loading...</div></div>
        <div id="bottom-hide" class="blocker"></div>
        <div id="player-target"></div>
    </div>

    <div class="card">
        <button class="main-btn" onclick="syncStart()">‚è≥ START COUNTDOWN</button>
        <div style="display:flex; gap:5px; margin-bottom:10px;"><button class="sub-btn" onclick="replayLast()">üîÑ REPLAY LAST 5s</button><button class="sub-btn" style="background:#333;" onclick="stopSong()">‚èπ STOP</button></div>
        <div id="blanks"></div>
        <div class="reveal-row"><button class="rev-btn" onclick="rev('singer')">1. Ê≠åÊâã</button><button class="rev-btn" onclick="rev('title')">2. Ê≠åÂêç</button><button class="rev-btn" onclick="rev('lyrics')">3. ‰∏ã‰∏ÄÂè•</button></div>
        <div id="box-singer" class="ans-box">Ê≠åÊâã: ---</div><div id="box-title" class="ans-box">Ê≠åÂêç: ---</div><div id="box-lyrics" class="ans-box" style="color:#e74c3c;">‰∏ã‰∏ÄÂè•: ---</div>
        <button class="main-btn" style="background:#000; margin-top:10px;" onclick="nextSong()">NEXT SONG ‚ûî</button>
        <div id="round-info" style="font-size:12px; color:#999; margin-top:5px;">Round: 1 / 15</div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player, logicInt, idx = 0;
        
        const masterSongs = [
            // --- 2000s - 2010s Classics ---
            {id:"URUIcYDq3_I", s:105, d:20, singer:"Èô≥Â•ïËøÖ", title:"ÈôÄÈ£õËº™", lyrics:"ÈÅéÂéªÂçÅÂÖ´Ê≠≤ üî¥üî¥üî¥ Ê≤íÊ≥ïÊáÇ"},
            {id:"scHDBckJXv4", s:72, d:15, singer:"Âè§Â∑®Âü∫", title:"ÂøÖÊÆ∫ÊäÄ", lyrics:"Ê±Ç‰Ω†Âà•Ë¶Å üî¥üî¥üî¥ Êõ¥ÊÇ≤"},
            {id:"5wJFZBulzsI", s:105, d:21, singer:"ÂºµÊï¨Ëªí", title:"Ê´ªËä±Ê®π‰∏ã", lyrics:"Â¶ÇÊúâÂ§© üî¥üî¥üî¥ ÂÜçÈñã"},
            {id:"E9BgBB0JQ8E", s:95, d:19, singer:"ÂÅ¥Áî∞", title:"ÂëΩÁ°¨", lyrics:"‰∫åÁôæÂπ¥Âæå üî¥üî¥üî¥"},
            {id:"WJaufugjeSQ", s:62, d:15, singer:"Ê•äÂçÉÂ¨Ö", title:"Â∞èÂüéÂ§ß‰∫ã", lyrics:"ÈùíÊò•ÂΩ∑ÂΩø üî¥üî¥üî¥ ÈñãÂßã"},
            {id:"cPKfUWDmNbo", s:58, d:15, singer:"Twins", title:"‰∏ã‰∏ÄÁ´ôÂ§©Âêé", lyrics:"Âú®Âè∞‰∏ä‰ªªÊàëÂî± üî¥üî¥üî¥ Èüø‰∫Æ"},
            {id:"onZjMJq4LhU", s:68, d:15, singer:"ÂÆπÁ•ñÂÖí", title:"ÊàëÁöÑÈ©ïÂÇ≤", lyrics:"See me fly üî¥üî¥üî¥ proud"},
            {id:"v04DzjzSb5w", s:68, d:19, singer:"ÁõßÂ∑ßÈü≥", title:"Â•ΩÂøÉÂàÜÊâã", lyrics:"ÊòØÂê¶ÂæàÊÉ≥Êàë üî¥üî¥üî¥ ÂàÜÊâã"},
            {id:"qu_FSptjRic", s:64, d:23, singer:"Beyond", title:"Êµ∑ÈóäÂ§©Á©∫", lyrics:"ÂéüË´íÊàëÈÄô‰∏ÄÁîü üî¥üî¥üî¥ Ëá™Áî±"},
            {id:"8dqdPHuFgfI", s:92, d:18, singer:"ËòáÊ∞∏Â∫∑", title:"Ë∂äÂêªË∂äÂÇ∑ÂøÉ", lyrics:"ÊòéÊòéÊàëÂ∑≤ üî¥üî¥üî¥ ‰ªΩÂ§ñËóç"},
            
            // --- 2020s Modern Hits ---
            {id:"f5NzXpC8tdU", s:53, d:15, singer:"ÂßúÊø§", title:"ËíôËëóÂò¥Ë™™ÊÑõ‰Ω†", lyrics:"So I say I love you üî¥üî¥üî¥ Ë£°"},
            {id:"YZPFbnk_RS0", s:200, d:17, singer:"MCÂºµÂ§©Ë≥¶", title:"Ë®òÊÜ∂Ê£â", lyrics:"üî¥üî¥üî¥üî¥üî¥üî¥üî¥üî¥üî¥  È©òÂæó‰∫ÜÁç®Â±Ö"},
            {id:"sg8V5BLMEhE", s:63, s:65, d:15, singer:"Dear Jane", title:"ÈäÄÊ≤≥‰øÆÁêÜÂì°", lyrics:"Á•ù‰Ω†Âú® üî¥üî¥üî¥ Âπ≥ÂÆâ"},
            {id:"qWhavDVsMRc", s:45, d:20, singer:"ÊûóÂÆ∂Ë¨ô", title:"‰∏Ä‰∫∫‰πãÂ¢É", lyrics:"‰∏ÄÂÄã‰∫∫Âéü‰æÜ üî¥üî¥üî¥ Áõ°Ëàà"},
            {id:"7FPL4DRizgk", s:105, d:22, singer:"Edan ÂëÇÁàµÂÆâ", title:"EÂÖàÁîüÈÄ£Áí∞‰∏çÂπ∏‰∫ã‰ª∂", lyrics:"ÈÄ£Áí∞ üî¥üî¥üî¥ ‰∫ã‰ª∂"},
            {id:"Rp4iHpTvBY8", s:57, d:18, singer:"Ê¥™ÂòâË±™", title:"ÈªëÁéªÁíÉ", lyrics:"ÊòØÊàëÁöÑÊàëÊúâÈ£õ üî¥üî¥üî¥"},
            {id:"vER4DPlhXXI", s:58, d:15, singer:"Èô≥Ëïæ", title:"Âá°Êòü", lyrics:"Ë™∞Ë™™Âπ≥Âá°ÊòØÊàë üî¥üî¥üî¥ ÁöÑÈÄ≤Ë∑Ø"},
            {id:"falq0Gr3rc0", s:51, d:18, singer:"Gareth.T", title:"Áî®ËÉåËÑäÂî±ÊÉÖÊ≠å", lyrics:"ÂèØ‰ª•ÊúõÁ©øÊàë üî¥üî¥üî¥ ‰ªÄÈ∫º"},
            {id:"y9ntnHvD4tQ", s:100, d:15, singer:"ÂºµÊï¨Ëªí", title:"Èö±ÂΩ¢ÈÅäÊ®ÇÂ†¥", lyrics:"ÈÄôÂàª üî¥üî¥üî¥ ÁöÑÁ¨ëÂÆπ"},
            {id:"jrP24ZSYHts", s:75, d:18, singer:"ÊûóÂÆ∂Ë¨ô", title:"Á•ûÂ•áÁöÑÁ≥äÂ°óÈ≠îËó•", lyrics:"ÊãøËó•Ê∞¥ üî¥üî¥üî¥ ÂÇª‰∏ãÂéª"},
            
            // --- Mandarin / Pop Hits ---
            {id:"DYptgVvkVLQ", s:104, d:15, singer:"Âë®Êù∞ÂÄ´", title:"Êô¥Â§©", lyrics:"‰ΩÜÊïÖ‰∫ãÁöÑÊúÄÂæå üî¥üî¥üî¥"},
            {id:"bu7nU9Mhpyo", s:106, d:11, singer:"Âë®Êù∞ÂÄ´", title:"ÂëäÁôΩÊ∞£ÁêÉ", lyrics:"Ë¶™ÊÑõÁöÑ üî¥üî¥üî¥ ËºïÊòì"},
            {id:"T4SimnaiktU", s:65, d:18, singer:"G.E.M.", title:"ÂÖâÂπ¥‰πãÂ§ñ", lyrics:"Á∑£‰ªΩËÆìÊàëÂÄë üî¥üî¥üî¥ ‰ª•Â§ñ"},
            {id:"GtDRcXtDg-4", s:100, d:18, singer:"‰∫îÊúàÂ§©", title:"Á™ÅÁÑ∂Â•ΩÊÉ≥‰Ω†", lyrics:"Á™ÅÁÑ∂Â•ΩÊÉ≥‰Ω† üî¥üî¥üî¥ Âú®Âì™Ë£°"}
        ];

        const songs = masterSongs.sort(() => 0.5 - Math.random()).slice(0, 15);

        function onYouTubeIframeAPIReady() { loadVideo(); }

        function loadVideo() {
            if(player) player.destroy();
            document.getElementById('round-info').innerText = `Round: ${idx + 1} / 15`;
            player = new YT.Player('player-target', {
                height: '100%', width: '100%',
                videoId: songs[idx].id,
                playerVars: { 
                    'autoplay': 0, 'controls': 0, 'rel': 0, 
                    'playsinline': 1, 'enablejsapi': 1,
                    'start': songs[idx].s 
                },
                events: {
                    'onReady': (e) => { 
                        e.target.mute();
                        e.target.playVideo();
                        setTimeout(() => {
                            e.target.pauseVideo();
                            e.target.unMute();
                            document.getElementById('status-msg').innerText = "READY";
                        }, 600);
                    },
                    'onError': (e) => {
                        document.getElementById('status-msg').innerText = "SKIP THIS SONG";
                    }
                }
            });
        }

        function changeScore(id, amt) { let el = document.getElementById(id); let s = parseInt(el.innerText) + amt; el.innerText = s < 0 ? 0 : s; }

        function syncStart() {
            if(!player || typeof player.playVideo !== 'function') return;
            player.seekTo(songs[idx].s, true);
            player.playVideo();
            document.getElementById('status-msg').innerText = "PLAYING...";
            document.getElementById('timer').innerText = "Vs";
            document.getElementById('timer').classList.remove('danger');
            document.getElementById('blanks').style.display = 'none';
            let elapsed = 0; let duration = songs[idx].d;
            clearInterval(logicInt);
            logicInt = setInterval(() => {
                elapsed++; 
                let remaining = duration - elapsed;
                if(remaining <= 5 && remaining > 0) { 
                    document.getElementById('timer').innerText = remaining; 
                    document.getElementById('timer').classList.add('danger'); 
                }
                if(elapsed >= duration) { clearInterval(logicInt); finishClip(); }
            }, 1000);
        }

        function finishClip() { 
            player.pauseVideo(); 
            document.getElementById('timer').innerText = "STOP"; 
            document.getElementById('timer').classList.remove('danger');
            document.getElementById('status-msg').innerText = "GUESS!"; 
            document.getElementById('blanks').innerText = "‰∏ã‰∏ÄÂè•Ôºö " + songs[idx].lyrics; 
            document.getElementById('blanks').style.display = 'block'; 
        }

        function replayLast() { if(player) { player.seekTo(songs[idx].s + songs[idx].d - 5); player.playVideo(); setTimeout(() => player.pauseVideo(), 5000); } }
        function stopSong() { if(player) player.pauseVideo(); clearInterval(logicInt); }

        function rev(type) {
            const prefix = {singer: 'Ê≠åÊâã: ', title: 'Ê≠åÂêç: ', lyrics: '‰∏ã‰∏ÄÂè•: '};
            const val = type === 'lyrics' ? songs[idx].lyrics.replace(/üî¥/g, "") : songs[idx][type];
            document.getElementById('box-' + type).innerText = prefix[type] + val;
            document.getElementById('box-' + type).style.visibility = 'visible';
            if(type === 'title') document.getElementById('black-shield').style.display = 'none';
        }

        function nextSong() {
            idx++; if(idx >= songs.length) { alert("Session Complete!"); return; }
            document.getElementById('black-shield').style.display = 'flex'; 
            document.getElementById('status-msg').innerText = "Loading...";
            document.getElementById('blanks').style.display = 'none';
            ['singer','title','lyrics'].forEach(t => document.getElementById('box-'+t).style.visibility='hidden');
            loadVideo();
        }
    </script>
</body>
</html>
